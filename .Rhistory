leaflet(bus_garage_coords) %>% addTiles %>% addMarkers()
bus_garage_coords
head(bus_garage_coords)
as.numeric(bus_garage_coords)
coordinates(bus_garage_coords)
as.numeric(bus_garage_coords)
as.numeric(coordinates(bus_garage_coords)
)
coordinates(bus_garage_coords)[]1
coordinates(bus_garage_coords)[1]
coordinates(bus_garage_coords)['XCoordinates']
coordinates(bus_garage_coords)$XCoordinates
coordinates(bus_garage_coords)[1:81]
coordinates(bus_garage_coords)[82:]
coordinates(bus_garage_coords)[82:,]
coordinates(bus_garage_coords)[82,]
coordinates(bus_garage_coords)[82]
length(coordinates(bus_garage_coords))
label(coordinates(bus_garage_coords))
labels(coordinates(bus_garage_coords))
class(coordinates(bus_garage_coords))
data.frame(coordinates(bus_garage_coords))
fp2 = file.path("C:",
"Users",
"Sam",
"Desktop",
"NYC Data Science bootcamp",
"R",
"Shiny",
"NYC_Green_New_Deal",
"data","School bus routes.csv")
buses = read.csv(fp2, header = TRUE,stringsAsFactors = FALSE)
library(rgdal)
library(dplyr)
library(spdplyr)
library(leaflet)
str(buses)
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n())
nad83_coords
ungroup(nad83_coords)
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords) = c('XCoordinates', 'YCoordinates')
proj4string(nad83_coords) = CRS("+init=esri:102718")
bus_garage_coords = spTransform(nad83_coords,CRS("+init=epsg:4326"))
bus_garage_coords
bus_garage_coords[1]
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n())) %>% select(XCoordinates, YCoordinates)
nad83_coords
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
fp2 = file.path("C:",
"Users",
"Sam",
"Desktop",
"NYC Data Science bootcamp",
"R",
"Shiny",
"NYC_Green_New_Deal",
"data","School bus routes.csv")
buses = read.csv(fp2, header = TRUE,stringsAsFactors = FALSE)
library(rgdal)
library(dplyr)
library(spdplyr)
library(leaflet)
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords %>% select(XCoordinates, YCoordinates)) #= c('XCoordinates', 'YCoordinates')
nad83_coords
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = buses %>% select(XCoordinates, YCoordinates)#ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords) = c('XCoordinates', 'YCoordinates')
nad83_coords
proj4string(nad83_coords) = CRS("+init=esri:102718")
bus_garage_coords = spTransform(nad83_coords,CRS("+init=epsg:4326"))
bus_garage_coords
coordinates(bus_garage_coords
)
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))#ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords) = c('XCoordinates', 'YCoordinates')
proj4string(nad83_coords) = CRS("+init=esri:102718")
bus_garage_coords = spTransform(nad83_coords,CRS("+init=epsg:4326"))
coordinates(bus_garage_coords)
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))#ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords) = c('XCoordinates', 'YCoordinates')
proj4string(nad83_coords) = CRS("+init=esri:102718")
bus_garage_coords = spTransform(nad83_coords,CRS("+init=epsg:4326"))
coordinates(bus_garage_coords)
length(coordinates(bus_garage_coords))
length(data.frame(coordinates(bus_garage_coords)))
dim(data.frame(coordinates(bus_garage_coords)))
str(data.frame(coordinates(bus_garage_coords)))
by_garage = ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
by_garage
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = unique(buses %>% select(x = XCoordinates, y = YCoordinates))#ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords) = c('XCoordinates', 'YCoordinates')
by_garage = cbind(data.frame(coordinates(bus_garage_coords)), ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n())))
by_garage
coordinates(bus_garage_coords)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(radius = count)
by_garage
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = unique(buses %>% select(x = XCoordinates, y = YCoordinates))#ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords) = c('XCoordinates', 'YCoordinates')
coordinates(nad83_coords) = c('x', 'y')
proj4string(nad83_coords) = CRS("+init=esri:102718")
bus_garage_coords = spTransform(nad83_coords,CRS("+init=epsg:4326"))
by_garage = cbind(data.frame(coordinates(bus_garage_coords)), ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n())))
by_garage
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count/1000)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count/100, stroke = FALSE)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count/100, fillOpacity = 0.5)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count/100, fillOpacity = 0.5)
ggplot(data = by_garage, aes(x = count))+ geom_density()
library(ggplot2)
ggplot(data = by_garage, aes(x = count))+ geom_density()
by_garage %>% arrange(desc(count))
fp2 = file.path("C:",
"Users",
"Sam",
"Desktop",
"NYC Data Science bootcamp",
"R",
"Shiny",
"NYC_Green_New_Deal",
"data","School bus routes.csv")
buses = read.csv(fp2, header = TRUE,stringsAsFactors = FALSE)
library(rgdal)
library(dplyr)
library(spdplyr)
library(leaflet)
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = unique(buses %>% select(x = XCoordinates, y = YCoordinates))#ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords) = c('x', 'y')
proj4string(nad83_coords) = CRS("+init=esri:102718")
bus_garage_coords = spTransform(nad83_coords,CRS("+init=epsg:4326"))
by_garage = cbind(data.frame(coordinates(bus_garage_coords)), ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n())))
ggplot(data = by_garage) + geom_density(aes(x = count))
by_garage
nrow(buses)
sum(by_garage$count)
ggplot(data = by_garage) + geom_density(aes(x = count))
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count/100, fillOpacity = 0.5)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count/20, fillOpacity = 0.5)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count/50, fillOpacity = 0.5)
IQR(by_garage$count)
median(by_garage$count)
124 - (212.75/2)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~ifelse(count < 17.65, count, count/50), fillOpacity = 0.5)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~count - 8, fillOpacity = 0.5)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = sqrt(count), fillOpacity = 0.5)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = sqrt(count), fillOpacity = 0.5)
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5)
median(by_garage$x)
median(by_garage$y)
leaflet(by_garage, options = leafletOptions(zoom = 10, center = {lat:(-73.88887), lon:40.67854})) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5)
leaflet(by_garage, options = leafletOptions(zoom = 10, center = {lat:(-73.88887) lon:40.67854})) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5)
leaflet(by_garage, options = leafletOptions(zoom = 10)) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5)
str(buses)
by_garage = cbind(data.frame(coordinates(bus_garage_coords)), ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n(), name = tolower(first(Garage._Street_Address)))))
by_garage
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5, popup = )
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5, popup = ~htmlEscape(name))
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5, popup = ~htmltools::htmlEscape(name))
length(unique(tolower(buses$Garage._Street_Address)))
leaflet(by_garage) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5)
by_garage
length(by_garage[by_garage$x > -75])
length(by_garage[by_garage$x > -75,])
by_garage
by_garage$x
by_garage$x < -77
by_garage$x > -77
length(by_garage[by_garage$x > -77,])
dim(by_garage[by_garage$x > -77,])
dim(by_garage)
leaflet(by_garage[by_garage$x > -77,]) %>% addTiles %>% addCircleMarkers(lng = ~x, lat = ~y, radius = ~sqrt(count), fillOpacity = 0.5)
by_garage
length(nad83_coords)
leaflet(by_garage[by_garage$x > -77, ]) %>% addTiles %>% addCircleMarkers(
lng = ~ x,
lat = ~ y,
radius = ~ sqrt(count),
fillOpacity = 0.5
) %>% addLegend("topleft")
leaflet(by_garage[by_garage$x > -77, ]) %>% addTiles %>% addCircleMarkers(
lng = ~ x,
lat = ~ y,
radius = ~ sqrt(count),
fillOpacity = 0.5,
group = "Bus garages"
) %>% addLayersControl(overlayGroups = "Bus garages")
leaflet(by_garage[by_garage$x > -77, ]) %>% addTiles %>% addCircleMarkers(
lng = ~ x,
lat = ~ y,
radius = ~ sqrt(count),
fillOpacity = 0.5,
group = "Bus garages"
) %>% addLayersControl(overlayGroups = "Bus garages", options = layersControlOptions(collapsed = FALSE))
fp2 = file.path("C:",
"Users",
"Sam",
"Desktop",
"NYC Data Science bootcamp",
"R",
"Shiny",
"NYC_Green_New_Deal",
"data","Annual pollutant measurements.csv")
pollutants = read.csv(fp3, header = TRUE, stringsAsFactors = FALSE)
fp3 = file.path("C:",
"Users",
"Sam",
"Desktop",
"NYC Data Science bootcamp",
"R",
"Shiny",
"NYC_Green_New_Deal",
"data","Annual pollutant measurements.csv")
pollutants = read.csv(fp3, header = TRUE, stringsAsFactors = FALSE)
str(pollutants)
pollutants %>% group_by(Latitude, Longitude) %>% summarise(count= n())
pollutants$Latitude[1]
fp2 = file.path("C:",
"Users",
"Sam",
"Desktop",
"NYC Data Science bootcamp",
"R",
"Shiny",
"NYC_Green_New_Deal",
"data","School bus routes.csv")
fp3 = file.path("C:",
"Users",
"Sam",
"Desktop",
"NYC Data Science bootcamp",
"R",
"Shiny",
"NYC_Green_New_Deal",
"data","Annual pollutant measurements.csv")
buses = read.csv(fp2, header = TRUE,stringsAsFactors = FALSE)
pollutants = read.csv(fp3, header = TRUE, stringsAsFactors = FALSE)
library(rgdal)
library(dplyr)
library(spdplyr)
library(leaflet)
# Converting from the Sate Plane Coordinates used in the bus data, to Latitude and Longitude data for plotting
# nad83_coords = unique(buses %>% select(XCoordinates, YCoordinates))
nad83_coords = unique(buses %>% select(x = XCoordinates, y = YCoordinates))#ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n()))
coordinates(nad83_coords) = c('x', 'y')
proj4string(nad83_coords) = CRS("+init=esri:102718")
bus_garage_coords = spTransform(nad83_coords,CRS("+init=epsg:4326"))
bus_by_garage = cbind(data.frame(coordinates(bus_garage_coords)), ungroup(buses %>% group_by(XCoordinates, YCoordinates) %>% summarise(count = n())))
pollutants_by_group = ungroup(pollutants %>% group_by(Latitude, Longitude) %>% summarise(count= n()))
ggplot(data = bus_by_garage) + geom_density(aes(x = count))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet() %>% addTiles %>% addCircleMarkers(
lng = ~ bus_by_garage$x[bus_by_garage$x > -77, ],
lat = ~ bus_by_garage$y[bus_by_garage$x > -77, ],
radius = ~ sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus garages"
)%>% addCircleMarkers(
lng = ~ pollutants_by_group$Longitude,
lat = ~ polutants_by_group$Latitude,
radius = ~ sqrt(polutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet() %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77, ],
lat = bus_by_garage$y[bus_by_garage$x > -77, ],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus garages"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = polutants_by_group$Latitude,
radius = sqrt(polutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
bus_by_garage$x[bus_by_garage$x > -77, ]
bus_by_garage$x
[bus_by_garage$x > -77, ]
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet() %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus garages"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = polutants_by_group$Latitude,
radius = sqrt(polutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet() %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus garages"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(polutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet() %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus garages"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet() %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus garages",
color= "yellow"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet() %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus garages",
color= "#FFD800"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
source('C:/Users/Sam/Desktop/NYC Data Science bootcamp/R/Shiny/NYC_Green_New_Deal/tester.R', echo=TRUE)
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet() %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus Garages",
color= "#FFD800"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet(options = leafletOptions(zoom = 5)) %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus Garages",
color= "#FFD800"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet(options = leafletOptions(Zoom = 5)) %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus Garages",
color= "#FFD800"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet(options = leafletOptions(Zoom = 6)) %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus Garages",
color= "#FFD800"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet(options = leafletOptions(Zoom = 7)) %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus Garages",
color= "#FFD800"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
length(nad83_coords)
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet(options = leafletOptions(Zoom = 7)) %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus Garages",
color= "#FFD800"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
# ggplot(data = bus_by_garage) + geom_density(aes(x = count))
leaflet(options = leafletOptions(zoom = 1)) %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus Garages",
color= "#FFD800"
)%>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant measurement"
) %>% addLayersControl(overlayGroups = c("Bus Garages", "Pollutant measurement"), options = layersControlOptions(collapsed = FALSE))
shiny::runApp('Shiny/NYC_Green_New_Deal')
runApp('Shiny/NYC_Green_New_Deal')
runApp('Shiny/NYC_Green_New_Deal')
pollutants
str(pollutants)
runApp('Shiny/NYC_Green_New_Deal')
pollutants_by_group = ungroup(pollutants %>% group_by(Latitude, Longitude) %>% summarise(count= n(), name = first(CBSA.Name)))
head(pollutants_by_group)
unique(pollutants_by_group$name)
runApp('Shiny/NYC_Green_New_Deal')
runApp('Shiny/NYC_Green_New_Deal')
runApp('Shiny/NYC_Green_New_Deal')
leaflet(width = "1075px", height = "604.6875px") %>% addTiles %>% addCircleMarkers(
lng = bus_by_garage$x[bus_by_garage$x > -77],
lat = bus_by_garage$y[bus_by_garage$x > -77],
radius = sqrt(bus_by_garage$count),
fillOpacity = 0.5,
group = "Bus Garages",
color = "#FFD800"
) %>% addCircleMarkers(
lng = pollutants_by_group$Longitude,
lat = pollutants_by_group$Latitude,
radius = sqrt(pollutants_by_group$count),
fillOpacity = 0.5,
group = "Pollutant Measurement"
) %>% addLayersControl(
overlayGroups = c("Bus Garages", "Pollutant Measurement"),
options = layersControlOptions(collapsed = FALSE)
)
runApp('Shiny/NYC_Green_New_Deal')
